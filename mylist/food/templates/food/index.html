{% extends "food/base.html" %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Food Index</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>
    {% block body %}
    <form action="" method="GET">
        <input type="search" name="food_name" value="{{ food_name }}">
        <button type="submit">Search</button>
    </form>
    {% for item in item_list %}
    <div class="row">
        <div class="col-md-3 offset-md-2">
            <img class="card" height="200px" src="{{item.item_image}}" />
        </div>
        <div class="col-md-4">
            <h3>{{item.item_name}}</h3>
            <h4>{{item.item_desc}}</h4>
            <h6>{{item.item_cal}} Cal</h6>
        </div>
        <div class="col-md-2">
            <a href="{%url 'food:detail' item.id %}" class="btn btn-success">Details</a>
            <a href="{% url 'favourite_add' item.id %}" class="btn  btn-outline-primary">Add to Favourities</a>
                </div>
    </div>
    
    <!-- {%if item_list.has_previous%}
        <a href=""></a>
        <a href=""></a>
    {%endif%} -->

    
    {% endfor %}
    {%if item_list.has_previous%}
        <a href="?page=1{% if food_name %}&food_name={{food_name}}{% endif %}">First</a>
        <a href="?page={{item_list.previous_page_number}}{% if food_name %}&food_name={{food_name}}{% endif %}">Previous</a>
    {%endif%}
    Page{{item_list.number}} of {{item_list.paginator.num_pages}}

    {%if item_list.has_next%}
        <a href="?page={{item_list.next_page_number}}{% if food_name %}&food_name={{food_name}}{% endif %}">Next</a>
        <a href="?page={{item_list.paginator.num_pages}}{% if food_name %}&food_name={{food_name}}{% endif %}">Last</a>
    {%endif%}

    {% endblock %}
</body>
</html>